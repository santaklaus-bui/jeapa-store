<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JEAPA Store</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  th { background-color: #f2f2f2; position: relative; }
  button { padding: 2px 5px; margin-left: 5px; cursor: pointer; }
</style>
</head>
<body>

<h1>JEAPA Store</h1>

<table id="productTable">
  <thead>
    <tr>
      <th>ID</th>
      <th>Product Name</th>
      <th>Company</th>
      <th>
        Dealer Price
        <button class="toggleColumn" data-column="3">-</button>
      </th>
      <th>
        Store Price
        <button class="toggleColumn" data-column="4">-</button>
      </th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <!-- Product rows will be inserted here dynamically -->
  </tbody>
</table>

<script>
const tableBody = document.querySelector('#productTable tbody');

// Sample initial products
let products = [
  { id: "001", name: "Oishi", company: "Gin", dealerPrice: "SMB", storePrice: 100 },
  { id: "002", name: "Mojito", company: "Beermen", dealerPrice: "SMB", storePrice: 200 }
];

function renderTable() {
  tableBody.innerHTML = '';
  products.forEach(product => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${product.id}</td>
      <td>${product.name}</td>
      <td>${product.company}</td>
      <td>${product.dealerPrice}</td>
      <td>${product.storePrice}</td>
      <td>
        <button class="editBtn">Edit</button>
        <button class="deleteBtn">Delete</button>
      </td>
    `;
    tableBody.appendChild(row);
  });
}

renderTable();

// Column toggle buttons inside header
document.querySelectorAll('.toggleColumn').forEach(button => {
  button.addEventListener('click', function() {
    const colIndex = parseInt(this.getAttribute('data-column'));
    const table = document.getElementById('productTable');
    const cells = Array.from(table.rows).map(row => row.cells[colIndex]);

    if (this.textContent === '-') {
      // Minimize: show only D or S in header
      cells[0].textContent = colIndex === 3 ? 'D' : 'S';
      for (let i = 1; i < cells.length; i++) cells[i].style.display = 'none';
      this.textContent = '+';
    } else {
      // Expand: restore header and all cells
      cells[0].textContent = colIndex === 3 ? 'Dealer Price' : 'Store Price';
      for (let i = 1; i < cells.length; i++) cells[i].style.display = '';
      this.textContent = '-';
    }
  });
});
</script>

</body>
</html>
